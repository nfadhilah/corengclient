<perfect-scrollbar class="side-nav" sideNav>
  <ul
    class="ant-menu ant-menu-root ant-menu-inline side-nav-menu"
    [ngClass]="{
      'ant-menu-inline-collapsed': isFolded,
      'ant-menu-dark': isSideNavDark
    }"
    *ngIf="menuItems$ | async as menuItems"
  >
    <li
      [ngClass]="
        item.children.length > 0
          ? 'ant-menu-submenu ant-menu-submenu-inline'
          : 'ant-menu-item'
      "
      *ngFor="let item of menuItems"
      [routerLinkActive]="
        item.children.length > 0
          ? 'ant-menu-submenu-open'
          : 'ant-menu-item-selected'
      "
      [routerLinkActiveOptions]="{ exact: true }"
    >
      <a
        href="javascript:void(0);"
        class="ant-menu-submenu-title"
        *ngIf="item.children.length > 0"
      >
        <i
          *ngIf="item.iconType == 'nzIcon'"
          nz-icon
          [nzType]="item.icon"
          [theme]="item.iconTheme"
        ></i>
        <i
          *ngIf="item.iconType == 'fontawesome'"
          class="m-r-10"
          [ngClass]="[item.iconTheme, item.icon]"
        ></i>
        <span>{{ item.name }}</span>
        <i class="ant-menu-submenu-arrow"></i>
      </a>
      <a
        [routerLink]="['page', item.id]"
        (click)="closeMobileMenu()"
        *ngIf="item.children.length === 0"
      >
        <i
          *ngIf="item.iconType == 'nzIcon'"
          nz-icon
          [nzType]="item.icon"
          [theme]="item.iconTheme"
        ></i>
        <i
          *ngIf="item.iconType == 'fontawesome'"
          class="m-r-10"
          [ngClass]="[item.iconTheme, item.icon]"
        ></i>
        <span>{{ item.name }}</span>
      </a>

      <!-- Second Level -->
      <ul
        class="ant-menu ant-menu-inline ant-menu-sub dropdown-menu"
        *ngIf="item.children.length > 0"
      >
        <li
          [ngClass]="
            subItem.children.length > 0
              ? 'ant-menu-submenu ant-menu-submenu-inline'
              : 'ant-menu-item'
          "
          *ngFor="let subItem of item.children"
          [routerLinkActive]="
            subItem.children.length > 0
              ? 'ant-menu-submenu-open'
              : 'ant-menu-item-selected'
          "
          [routerLinkActiveOptions]="{ exact: true }"
        >
          <a
            href="javascript:void(0);"
            class="ant-menu-submenu-title p-l-50"
            *ngIf="subItem.children.length > 0"
          >
            <i
              *ngIf="subItem.iconType == 'nzIcon'"
              nz-icon
              [nzType]="subItem.icon"
              [theme]="subItem.iconTheme"
            ></i>
            <i
              *ngIf="subItem.iconType == 'fontawesome'"
              class="m-r-10"
              [ngClass]="[subItem.iconTheme, subItem.icon]"
            ></i>
            <span>{{ subItem.name }}</span>
            <i class="ant-menu-submenu-arrow"></i>
          </a>
          <a
            [routerLink]="['page', subItem.id]"
            (click)="closeMobileMenu(); setSelected(subItem)"
            class="p-l-30"
            *ngIf="subItem.children.length === 0"
          >
            <i
              *ngIf="subItem.iconType == 'nzIcon'"
              nz-icon
              [nzType]="subItem.icon"
              [theme]="subItem.iconTheme"
            ></i>
            <i
              *ngIf="subItem.iconType == 'fontawesome'"
              class="m-r-10"
              [ngClass]="[subItem.iconTheme, subItem.icon]"
            ></i>
            <span>{{ subItem.name }}</span>
          </a>

          <!-- Third Level -->
          <ul
            class="ant-menu ant-menu-inline ant-menu-sub dropdown-menu"
            *ngIf="subItem.children.length > 0"
          >
            <li
              [ngClass]="
                subItem.children.length > 0
                  ? 'ant-menu-submenu ant-menu-submenu-inline'
                  : 'ant-menu-item'
              "
              *ngFor="let subItem of subItem.children"
              routerLinkActive="ant-menu-item-selected"
              [routerLinkActiveOptions]="{ exact: true }"
            >
              <a
                href="javascript:void(0);"
                class="ant-menu-submenu-title p-l-50"
                *ngIf="subItem.children.length > 0"
              >
                <i
                  *ngIf="subItem.iconType == 'nzIcon'"
                  nz-icon
                  [nzType]="subItem.icon"
                  [theme]="subItem.iconTheme"
                ></i>
                <i
                  *ngIf="subItem.iconType == 'fontawesome'"
                  class="m-r-10"
                  [ngClass]="[subItem.iconTheme, subItem.icon]"
                ></i>
                <span>{{ subItem.name }}</span>
                <i class="ant-menu-submenu-arrow"></i>
              </a>
              <a
                [routerLink]="['page', subItem.id]"
                (click)="closeMobileMenu()"
                class="p-l-50"
                *ngIf="subItem.children.length === 0"
              >
                <i
                  *ngIf="subItem.iconType == 'nzIcon'"
                  nz-icon
                  [nzType]="subItem.icon"
                  [theme]="subItem.iconTheme"
                ></i>
                <i
                  *ngIf="subItem.iconType == 'fontawesome'"
                  class="m-r-10"
                  [ngClass]="[subItem.iconTheme, subItem.icon]"
                ></i>
                <span>{{ subItem.name }}</span>
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</perfect-scrollbar>
